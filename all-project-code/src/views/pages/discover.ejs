<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>

<main>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-4">
        <h4>Filter by Service Type</h4>
        <div class="list-group">
          <% ['Free Quote', 'Same Day', 'Indoor'].forEach(function(filter) { %>
            <label class="list-group-item">
              <input class="form-check-input me-1" type="checkbox" value="">
              <%- filter %>
            </label>
          <% }); %>
        </div>
      </div>

      <!-- Service cards column (8 spaces) -->
      <div class="col-md-8">
        <div class="row row-cols-1 row-cols-md-2 g-4">
          <% events.forEach(function(event) { %>
            <div class="col">
              <div class="card h-100" data-id="<%- event.business_id %>" onclick="">
                <!-- Display first photo, ensure your API returns an array even if it's one photo -->
                <% if(event.photos_sample && event.photos_sample.length > 0) { %>
                <img src="<%- event.photos_sample[0] %>" class="card-img-top" alt="<%- event.name %>">
                <% } %>
                <div class="card-body">
                  <h5 class="card-title"><%- event.name %></h5>
                  <p class="card-text">Rating: <%- event.rating %> | Reviews: <%- event.review_count %></p>
                </div>
                <div class="card-footer">
                  <small class="text-muted"><%- event.full_address %></small>
                </div>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    </div>
  </div>
</main>

<%- include ('../partials/footer') %>
<script src="/js/script.js"></script>